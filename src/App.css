:root{
  --bg:#f3f6fb;
  --card:#ffffff;
  --muted:#6b7280;
  --accent:#7c3aed;
  --accent-2:#6d28d9;
  --danger:#e11d48;
  --ok:#10b981;
  --radius:14px;
}

*{box-sizing:border-box}
.body{font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial}
body{font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; background:var(--bg); color:#0f172a; margin:0}
.app-root{min-height:100vh; display:flex; align-items:center; justify-content:center; padding:36px}
.card{width:100%; max-width:1200px; background:linear-gradient(180deg,#ffffff,#fbfdff); border-radius:22px; box-shadow:0 30px 80px rgba(15,23,42,0.08); padding:32px; direction:rtl; border:1px solid rgba(15,23,42,0.02)}
.title{margin:0 0 6px 0; font-size:2.2rem; text-align:right; font-weight:800; letter-spacing:0.6px}

.top-controls{display:flex; gap:18px; align-items:center; justify-content:space-between; margin-bottom:6px}
.top-controls .task-input{flex:1; margin-bottom:0}

.filters-row{display:flex; justify-content:center; margin:10px 0 18px}
.legend{font-size:0.95rem; color:var(--muted); margin:6px 0 14px}

.input-group{display:flex; gap:12px; align-items:center; width:100%}
.task-input{margin-bottom:16px}
.task-input .input{flex:1; padding:14px 16px; border-radius:12px; border:1px solid rgba(15,23,42,0.04); font-size:1rem; outline:none; background:#fff}
.task-input .input.date{max-width:160px}
.task-input .input.select{max-width:150px}
.task-input .input::placeholder{color:#9aa4bd}
.task-input .input:focus{box-shadow:0 10px 36px rgba(124,58,237,0.09); border-color:var(--accent)}
.task-input .btn{padding:10px 18px; border-radius:14px}
.task-input .hint{font-size:0.8rem; color:var(--muted); margin-top:6px}
.date-wrap{position:relative}
.date-wrap .hint{position:absolute; right:0; top:calc(100% + 6px); margin-top:0}
.error{color:var(--danger); font-size:0.95rem; margin-top:8px; text-align:right}

.filter-bar{display:flex; gap:12px; justify-content:flex-end; margin-bottom:0}
.filter-btn{background:transparent; border:1px solid rgba(15,23,42,0.04); padding:10px 14px; border-radius:12px; cursor:pointer; color:var(--muted)}
.filter-btn.active{background:linear-gradient(90deg,var(--accent),var(--accent-2)); color:#fff; border-color:transparent; box-shadow:0 8px 20px rgba(124,58,237,0.08)}

.task-list{list-style:none; padding:0; margin:0; display:flex; flex-direction:column; gap:14px}
.task-item{display:flex; align-items:center; justify-content:space-between; padding:20px; border-radius:14px; border:1px solid rgba(15,23,42,0.03); background:linear-gradient(180deg,#ffffff,#fffefe); transition:transform .12s ease, box-shadow .12s ease}
.task-item:hover{transform:translateY(-6px); box-shadow:0 26px 60px rgba(15,23,42,0.08)}
.task-row{display:flex; align-items:flex-start; gap:12px; flex:1; cursor:default}
.checkbox-wrap{display:flex; align-items:center; padding-top:6px}
.task-main{display:flex; flex-direction:column; gap:8px; min-width:0}
.task-text{font-size:1rem; color:#0f172a; word-break:break-word}
.task-item.completed .task-text{text-decoration:line-through; color:var(--muted)}
.meta-row{display:flex; gap:10px; align-items:center; flex-wrap:wrap}
.meta{font-size:0.9rem; color:var(--muted)}
.badge{display:inline-block; padding:8px 12px; border-radius:999px; font-size:0.9rem; background:#f8fafc; color:#0f172a}
.badge.assignee{background:linear-gradient(90deg,#eef2ff,#f7f9ff)}
.badge.overdue{background:linear-gradient(90deg,#ffd7d7,#ffecec); color:var(--danger); border:1px solid rgba(229,57,53,0.08)}
.badge.status.חדש{background:#eef2ff}
.badge.status.בתהליך{background:linear-gradient(90deg,#fff7ed,#fff1db)}
.badge.status.תקוע{background:linear-gradient(90deg,#fff0f6,#ffeef8); color:#be185d}
.badge.status.הושלם{background:linear-gradient(90deg,#ecfdf5,#dcfce7); color:var(--ok)}

.badge.status.big{font-weight:600; padding:8px 12px; font-size:0.95rem}

.status-wrap{position:relative; display:inline-block}
.status-menu{position:absolute; right:0; top:calc(100% + 8px); z-index:60; min-width:220px}
.status-menu .menu-group{display:flex; flex-direction:column; gap:10px; background:#fff; border:1px solid rgba(15,23,42,0.04); padding:14px; border-radius:14px; box-shadow:0 30px 60px rgba(15,23,42,0.12)}
.status-menu .menu-title{font-size:0.85rem; color:var(--muted); margin-bottom:6px}
.status-menu .menu-btn{background:transparent; border:1px solid rgba(15,23,42,0.04); padding:10px 12px; border-radius:10px; cursor:pointer; text-align:right}
.status-menu .menu-btn.finish{background:linear-gradient(90deg,#10b981,#059669); color:#fff; border-color:transparent}
.status-menu .menu-btn:hover{transform:translateY(-2px)}

.status-menu{position:relative}
.status-menu .menu-group{display:flex; flex-direction:column; gap:6px; background:#fff; border:1px solid #eef2ff; padding:8px; border-radius:8px; box-shadow:0 8px 24px rgba(16,24,40,0.08); margin-top:8px}
.status-menu .menu-title{font-size:0.8rem; color:var(--muted); margin-bottom:6px}
.status-menu .menu-btn{background:transparent; border:1px solid #eef2ff; padding:6px 8px; border-radius:8px; cursor:pointer}

.overdue-row{border-color:rgba(225,29,72,0.20); box-shadow:0 30px 80px rgba(225,29,72,0.06); background:linear-gradient(180deg,#fff7f7,#fffefc)}
.task-item.overdue-row .badge.overdue{border:1px solid rgba(225,29,72,0.18)}

.error{color:var(--danger); font-size:0.9rem; margin-top:8px}

.task-actions{display:flex; gap:10px; margin-inline-start:12px}
.btn{background:transparent; border:1px solid rgba(15,23,42,0.06); padding:8px 12px; border-radius:12px; cursor:pointer; transition:all .12s ease}
.btn:hover{transform:translateY(-2px); box-shadow:0 8px 20px rgba(124,58,237,0.06)}
.btn.primary{background:linear-gradient(90deg,var(--accent),var(--accent-2)); color:#fff; border-color:transparent}
.btn.danger{border-color:rgba(225,29,72,0.12); color:var(--danger); background:rgba(225,29,72,0.04)}
.edit-input{padding:8px 10px; border-radius:8px; border:1px solid #eef2ff; width:100%; background:#fff}
.edit-panel .edit-row{display:flex; gap:8px; margin-top:8px}

/* custom checkbox */
.task-row input[type="checkbox"]{width:20px; height:20px; appearance:none; -webkit-appearance:none; border-radius:6px; border:1px solid #dbe7ff; background:linear-gradient(180deg,#fff,#f7fbff); display:inline-block; position:relative}
.task-row input[type="checkbox"]:checked{background:linear-gradient(90deg,var(--accent),#6d28d9); border-color:transparent}
.task-row input[type="checkbox"]:checked::after{content:'✔'; color:#fff; position:absolute; left:4px; top:0; font-size:12px}

.footer-stats{display:flex; align-items:center; justify-content:space-between; margin-top:14px}
.footer-stats .count{color:var(--muted)}
.status-summary{display:flex; gap:12px; margin-top:8px}
.summary-item{font-size:0.95rem; color:var(--muted)}

.empty{padding:16px; color:var(--muted); text-align:center}

@media (max-width:920px){
  .card{padding:18px}
  .input-group{flex-direction:column; align-items:stretch}
  .task-actions{margin-inline-start:0}
  .task-item{flex-direction:column; align-items:stretch}
}

@media (max-width:420px){
  .title{font-size:1.4rem}
  .task-input .input{padding:12px}
  .filter-btn{padding:8px 10px}
}
